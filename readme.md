## 训练核心代码
### 预处理
先从Preprocess项目中拿出结果文件`month_data.npy`，放到`data`文件夹中。

由于这个文件非常大，因此必须把这个文件分成比较小的一些文件，否则会导致训练速度大大减慢甚至之间内存溢出。

因此需要运行`clip_data.py`代码，将文件切割成多个部分。注意，这个切割文件的代码写的并不是很好，因此建议自己重写一份。

请仔细检查这个步骤前后的数据是否仍然正确，否则可能导致之后的训练无效。

你会在`data_clip`文件夹下发现切割后的数据。

### 训练方法
主函数是`main.py`  
首先按照下方"参数调整"章节修改参数，运行该文件开始训练。

#### 参数调整
所有需要调整的参数只有两个。  
##### 参数一：核心数
调整位置是`main.py`的15行，`CORE_NUMBER`变量。修改成核心数x2即可。  
调整之后可以双击`cmd`测试一下，如果CPU占用能跑到85%以上就ok，如果没有就把`CORE_NUMBER`再调高一些。  
这个参数关系到训练速度。  

##### 参数二：训练样本号
调整位置是`main.py`的18行，`TRAIN_LIST`列表。修改成需要训练的样本号。  
在`data_clip`文件夹中可以看到0-7共8组数据，是为了防止内存占用过大进行的分组训练。  
你的任务是训练2,3,4组，即data_2.npy, data_3.npy, dat_4.npy  
一组数据的训练按较坏情况算，应该要5个小时左右。训练开始后不能中途暂停。因此按电脑空闲状况预估训练样本号。  
我举个例子：今晚我打算睡12个小时，估计够算2组。睡前将`TRAIN_LIST`改成`[2,3]`, 然后开始训练。  
第二天晚上还剩一组没算，睡前将`TRAIN_LIST`改成`[4]`（注意必须是列表类型），然后开始训练。  
**或者**你也可以这样：
第一次训练不管算了多少，将`TRAIN_LIST`改成`[2,3,4]`。等到要用电脑的时候，直接关掉cmd窗口。看`result`文件夹中有哪些结果，之后再把没算出来的补齐。例如，第一次算之后，`result`中只有`result_2.npy`文件，那就说明只算完了第二组，之后把`TRAIN_LIST`改成`[3,4]`继续算。

#### 判断训练进度
训练时，会输出"`finish training (544, 418)`"一类的字样。  
当数对的第二项（例如这里的418）距离下一个能被209除余208的数越近的时候，训练越接近尾声。  
即：训练第二组时，训练范围是418-626  
训练第三组时，训练范围的627-835  
训练第四组时，训练范围是836-1044  
如果训练这一组数据的训练接近尾声，可以再等一会，等这组数据训练结束后再关闭cmd。  



### 其他注意事项
训练时间较久，一组大约需要训练2-3小时左右，合计需要时间约24小时。训练期间电脑会很卡，建议睡觉时训练。有条件也可以上阿里云组个服务器，20块钱左右短租几个小时性能很强的服务器，可以大约3小时全部训练好（8组）。